import{l as n,b as f,t as m,h as b,u as h,d as _,e as y}from"./31jCLm1F.js";function E(e,a,v=a){var o=new WeakSet;n(e,"input",async r=>{var l=r?e.defaultValue:e.value;if(l=d(e)?t(l):l,v(l),f!==null&&o.add(f),await m(),l!==(l=a())){var u=e.selectionStart,s=e.selectionEnd,i=e.value.length;if(e.value=l??"",s!==null){var c=e.value.length;u===s&&s===i&&c>i?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=u,e.selectionEnd=Math.min(s,c))}}}),(b&&e.defaultValue!==e.value||h(a)==null&&e.value)&&(v(d(e)?t(e.value):e.value),f!==null&&o.add(f)),_(()=>{var r=a();if(e===document.activeElement){var l=y??f;if(o.has(l))return}d(e)&&r===t(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function d(e){var a=e.type;return a==="number"||a==="range"}function t(e){return e===""?null:+e}function S(e,a,v=a){n(e,"change",()=>{v(e.files)}),b&&e.files&&v(e.files),_(()=>{e.files=a()})}export{E as a,S as b};
