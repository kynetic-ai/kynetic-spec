inbox:
  - _ulid: 01KF16XGA6SNNRHFPX15N0HE6F
    text: Hook for SessionStart or post-compaction to inject relevant context and subtle instructions.
      Could auto-run 'kspec session start' or similar to give agent fresh context after memory is
      compacted.
    created_at: 2026-01-15T16:13:16.998Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KF1V53RYTWER59VR53W1CSTW
    text: "Spec review process: 3 parallel agents (internal fit, prior art comparison, external
      research) before finalizing major specs. Worked well for shadow branch spec design - should be
      formalized in meta-spec workflows."
    created_at: 2026-01-15T22:06:57.823Z
    tags:
      - workflow
      - meta
    added_by: "@claude"
  - _ulid: 01KF3PJWJS42Y0QZFKWMX3A4D9
    text: "CLI output parity - JSON and human-readable outputs can drift when adding features.
      Investigate patterns to keep them in sync by design: unified output formatter, schema-driven
      rendering, shared data structure that both modes consume. Current pattern: output(data,
      humanFormatter) - data goes to JSON, formatter handles human. But formatter can show
      derived/computed info that isn't in data."
    created_at: 2026-01-16T15:25:35.193Z
    tags:
      - cli
      - dx
      - design
    added_by: "@claude"
  - _ulid: 01KF4DS5K10SKW9A533DQR7TH0
    text: "Investigate ready task ordering beyond priority - creation order may not be ideal. Consider:
      recency of notes/activity, dependency depth, spec item priority inheritance, manual ordering
      field, tags for urgency"
    created_at: 2026-01-16T22:10:58.273Z
    tags:
      - design
      - tasks
      - dx
    added_by: "@claude"
  - _ulid: 01KF554T97ST9B3DMT4WMXACYQ
    text: >-
      Ralph Wiggum / Looper Mode - Create a kspec-integrated autonomous loop runner. Core idea: a
      script that runs Claude Code repeatedly with fresh context, using a templated prompt that
      instructs it to:


      1. Run 'kspec session start' to see ready tasks

      2. Pick a well-defined task (high priority, clear spec, no blockers)

      3. Work on it until completion or stuck

      4. Commit and complete the task

      5. Exit cleanly (the outer loop restarts with fresh context)


      Key features from research:

      - Simple core: while :; do cat PROMPT.md | claude ; done

      - Context persists via filesystem/git, not session memory

      - Dual-condition exit: require both completion indicator AND explicit exit signal

      - Circuit breaker: stop after N loops with no progress or repeated errors

      - Rate limiting for API calls


      Kspec-specific additions:

      - Task selection heuristics (prioritize: clear AC, no blockers, isolated scope)

      - Progress tracking via task notes before each exit

      - Session checkpoint before exit to ensure clean state

      - Maybe: task budget (only attempt tasks under estimated N turns)


      The beauty is each iteration starts fresh but inherits cumulative work. Bad iterations don't
      compound context - they just waste one run.
    created_at: 2026-01-17T04:59:17.160Z
    tags:
      - automation
      - workflow
      - agents
    added_by: "@claude"
  - _ulid: 01KF6541Q2CXEXRYFFHAGD53H4
    text: "Ralph TUI mode: Optional terminal UI for ralph that provides real-time visualization of agent
      progress, event stream, session status. Would build on streaming/ACP foundation. Lower
      priority than core auditability work."
    created_at: 2026-01-17T14:18:06.435Z
    tags:
      - ralph
      - tui
      - optional
    added_by: "@claude"
  - _ulid: 01KF8TQ5X9Q0Y6DEGWQ9YPECHN
    text: "Transaction/batch mechanics for kspec operations - ability to set a mark point where changes
      don't auto-commit until a final 'commit' call. Could help with bulk operations, rollback on
      errors, and atomic multi-item changes. Challenges: managing state across commands, cleanup on
      abandoned transactions, shadow branch implications. Maybe simpler approach: explicit 'kspec
      bulk' command that takes a script/list of operations and executes them atomically."
    created_at: 2026-01-18T15:14:02.282Z
    tags:
      - idea
      - cli
      - architecture
    added_by: "@claude"
  - _ulid: 01KFA1Q5AQJN28QE0S7EGNXPT8
    text: "Phase 1: Implement structured error codes and recovery hints for CLI - define CliError type,
      map existing error() calls to structured codes, add recovery suggestions for common error
      scenarios"
    created_at: 2026-01-19T02:35:36.152Z
    tags:
      - agent-first
      - cli
      - phase-1
    added_by: "@claude"
  - _ulid: 01KFA1Q9JA5H1FSM05NBA0BFCD
    text: "Phase 1: Implement unified output envelope for JSON mode - wrap all JSON responses in
      consistent structure with success/data/metadata/error fields"
    created_at: 2026-01-19T02:35:40.491Z
    tags:
      - agent-first
      - cli
      - phase-1
    added_by: "@claude"
  - _ulid: 01KFA1QBTZYQ8C1RJA4PEXRX2M
    text: "Phase 2: Add dry-run support to mutating commands - implement --dry-run flag for task
      add/set, item add/set/delete, derive, inbox promote. Show preview of changes without
      executing"
    created_at: 2026-01-19T02:35:42.815Z
    tags:
      - agent-first
      - cli
      - phase-2
    added_by: "@claude"
  - _ulid: 01KFA1QEC3GS0H6M3MKCFQ01DS
    text: "Phase 2: Add schema introspection commands - kspec help --json-schema, kspec help
      --exit-codes, kspec help commands --json for programmatic CLI discovery"
    created_at: 2026-01-19T02:35:45.411Z
    tags:
      - agent-first
      - cli
      - phase-2
    added_by: "@claude"
  - _ulid: 01KFBJM1XW2DSC0V47Y86EZYHB
    text: "Review RALPH_LOOP_INSTRUCTIONS.md - consolidate into skills or delete. Unique content: PR
      review workflow for autonomous loops, 'every iteration ends with PR' rule, reflect guidance
      for loops. Consider codifying loop-specific reflect behavior into /reflect skill."
    created_at: 2026-01-19T16:50:14.589Z
    tags:
      - docs
      - ralph
    added_by: "@claude"
  - _ulid: 01KFBKA7PCR1VKHEPJBTY843Q9
    text: Review KYNETIC_SPEC_DESIGN.md vs actual .kspec/ spec - identify any gaps/features in design
      doc not yet in spec before clearing out. Bootstrap doc is now obsolete.
    created_at: 2026-01-19T17:02:21.389Z
    tags:
      - docs
      - spec
    added_by: "@claude"
  - _ulid: 01KFC3SV1V0NBY01W9X12K0G08
    text: 'Batch command execution via JSON - Generic kspec batch command that accepts JSON array of CLI
      commands with args. Example: [{"cmd": "item ac add", "ref": "@spec-1", "given": "...", ...}].
      Separates concerns: skills/scripts generate the JSON (smart translation), CLI executes it
      (dumb executor). Supports --dry-run for preview, --file or stdin input. Replaces need for
      command-specific bulk variants. Pairs with skills that translate intent (plan sections,
      templates) into batch JSON.'
    created_at: 2026-01-19T21:50:29.948Z
    tags:
      - cli
      - dx
      - bulk
    added_by: "@claude"
  - _ulid: 01KFDQCG96CYSJ5HEK1Q87QMFS
    text: Add feature to spawn worktree for an agent to work in
    created_at: 2026-01-20T12:51:58.887Z
    tags: []
    added_by: Jacob Chapel
  - _ulid: 01KFE2X9RP7HS3SPGH4MGYJCDF
    text: "Ralph loop: Add signal/mechanism for agents to explicitly end the loop when target work is
      complete (e.g., special exit command or completion marker)"
    created_at: 2026-01-20T16:13:23.607Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFE2XDRMFSEAM7DHQCEKG2GT
    text: "Ralph loop: Treat pending_review tasks as highest priority - agents should validate and
      complete these before starting new work"
    created_at: 2026-01-20T16:13:27.700Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFE2XFQKG1SV7KQ4RSBD6DYP
    text: "Ralph loop: Add --tasks flag to specify explicit task scope (e.g., --tasks @ref1,@ref2) to
      prevent scope creep beyond target work"
    created_at: 2026-01-20T16:13:29.715Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFE2XHT2AJN680ST7ZXK4TAT
    text: "Ralph loop: Add progress checkpoint output at each iteration showing
      completed/in-progress/remaining counts"
    created_at: 2026-01-20T16:13:31.843Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFEYXF9Y42AYHFPQC43PR13F
    text: "Spec-level depends_on field with derive integration - Add --depends-on flag to kspec item set
      for spec items. When deriving tasks, automatically create task dependencies based on spec
      dependencies. Example: if @spec-A depends_on @spec-B, then kspec derive @spec-A creates task-A
      depending on task-B. Removes need to manually set task dependencies after derive."
    created_at: 2026-01-21T00:22:49.407Z
    tags:
      - cli
      - derive
      - dx
    added_by: "@claude"
  - _ulid: 01KFEZDXXX1XR1M2EAG3BK2GZA
    text: "Ephemeral workflow runs - Add support for workflows that don't persist run state. Use cases:
      simple instruction flows, quick checklists, trivial step sequences. Options: (1) --ephemeral
      flag on 'workflow start', (2) workflow.ephemeral field in definition, (3) both with override.
      Ephemeral runs: no file storage, no shadow commits, not shown in 'workflow runs', state only
      in session context or just sequential display. Reduces noise for simple flows."
    created_at: 2026-01-21T00:31:48.669Z
    tags:
      - workflow
      - dx
    added_by: "@claude"
  - _ulid: 01KFGRV6AK641DTPJ243ZAZXD7
    text: Generic --clear-<field> pattern for array fields - Instead of adding --clear-deps,
      --clear-tags, --clear-blocked-by separately, consider a general pattern like --clear <field>
      or --<field> [] syntax
    created_at: 2026-01-21T17:15:12.084Z
    tags:
      - reflection
      - cli
      - dx
    added_by: "@claude"
  - _ulid: 01KFGRVB35DPCST95STSM8GR72
    text: Umbrella/parent tasks should depend on children, not vice versa - Parent represents 'validate
      complete feature' and becomes ready when all implementation children are done. Current pattern
      had children depending on parent which blocks them when parent is manual_only
    created_at: 2026-01-21T17:15:16.966Z
    tags:
      - reflection
      - workflow
      - modeling
    added_by: "@claude"
  - _ulid: 01KFGVVJQKV7XDYKERSZ5ZGVA7
    text: "Project config file (kspec.config.yaml or .kspecrc) in project root - Configure: shadow
      remote URL (separate repo for specs), feature toggles (disable meta/workflows/traits), default
      values (author, priority), validation strictness, agent-visible command subset. Enables
      tailoring kspec to project needs and hiding complexity from automation."
    created_at: 2026-01-21T18:07:50.515Z
    tags:
      - feature
      - config
      - dx
    added_by: "@claude"
  - _ulid: 01KFGVVNBKEMGF4AWWX8BQXHN1
    text: "Shadow branch on separate remote - Since kspec-meta is an orphan branch with no shared
      history, allow it to point to a different remote repo entirely. Enables: access control
      separation, multi-repo projects sharing specs, dedicated spec storage services. Would be
      configured via project config file."
    created_at: 2026-01-21T18:07:53.203Z
    tags:
      - feature
      - shadow
      - multi-repo
    added_by: "@claude"
  - _ulid: 01KFH3HM5T869SHSWDG8V0P44C
    text: "Track auto-generated artifacts (notes, etc.) with metadata flag. Could add auto_generated:
      true to notes created by CLI commands vs agent-authored content. Would enable filtering
      mechanical notes from substantive ones in UIs/queries. Low priority - current approach (use
      authoring agent) works, this is a refinement if filtering becomes important."
    created_at: 2026-01-21T20:22:12.922Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFH6XF1C0AD2QF7WAMEJ9M57
    text: "Trait: Verbose Output Mode (@trait-verbose-output) - Cross-cutting behavior for commands that
      display lists. Defines --verbose/-v flag to show complete output without truncation. AC: (1)
      truncated lists show all items with --verbose, (2) summaries expand to detailed info. Applies
      to: validate (orphaned specs, mismatches), tasks list, inbox list, item list. Ensures
      consistent flag naming and behavior across CLI."
    created_at: 2026-01-21T21:21:06.605Z
    tags:
      - trait
      - cli
      - dx
    added_by: "@claude"
  - _ulid: 01KFH76CQV9J2NQKQE8QRYVQC3
    text: "Cross-feature requirement pattern: How to express that core features (search, validate,
      export) must support all entity types. When new entity type added, should automatically imply
      tasks for core features. Options: (1) applies_to field on feature specs, (2) trait on entity
      types like @trait-searchable, (3) validation warning for missing coverage, (4) parent spec
      that entity types must satisfy. Surfaced when realizing search doesn't cover inbox."
    created_at: 2026-01-21T21:25:59.163Z
    tags:
      - design
      - spec-model
      - meta
    added_by: "@claude"
  - _ulid: 01KFHJNR74AMDX2D9389906JPT
    text: "AC coverage analysis tooling - soft check that identifies gaps between code AC annotations
      and test coverage. Not a hard lint, but instructive to surface clear gaps. Could warn when //
      AC: @spec ac-N appears in implementation but no test references that AC. Helps during review,
      not blocking."
    created_at: 2026-01-22T00:46:36.772Z
    tags:
      - dx
      - tooling
      - reflection
    added_by: "@claude"
  - _ulid: 01KFHJNZKSXJ2RNAT06VEAYR3R
    text: "Reverse spec lookup - kspec which <file> or kspec which <file:line> to find specs/ACs that
      reference or are implemented by a given code path. Useful for bug fixes to quickly discover
      what specs need updating. Could scan for // AC: annotations and spec_ref links. Instructive,
      helps find already-instrumented code."
    created_at: 2026-01-22T00:46:44.345Z
    tags:
      - dx
      - tooling
      - reflection
    added_by: "@claude"
  - _ulid: 01KFHZR4K3JJT4C742GSVB1KG6
    text: "Shadow sync issues need stronger agent guidance and CLI warnings. Currently errors are silent
      unless KSPEC_DEBUG=1. Should: (1) Make warnings more visible in CLI output, (2) Strengthen
      AGENTS.md troubleshooting guidance, (3) Consider auto-detection of common issues with
      suggested fixes."
    created_at: 2026-01-22T04:35:06.468Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFKMWB9ASPMYGVCDMANYNBJA
    text: "[bug] 'kspec help workflow' shows unrelated 'Typical Workflow' content because
      helpContent['workflow'] key collides with workflow CLI command name. The task workflow guide
      should be renamed to 'task-workflow' or 'getting-started' in src/cli/help/content.ts"
    created_at: 2026-01-22T20:03:38.922Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFKSF667VYMH5QJN9GE5X2J3
    text: Make 'workflow show' infer active run like 'workflow next' - when only one active run exists,
      allow omitting run-ref for consistency
    created_at: 2026-01-22T21:23:50.599Z
    tags:
      - cli
      - workflow
      - dx
    added_by: "@claude"
  - _ulid: 01KFKSGCTW2R3G9QYK9NH23FVY
    text: Warn when --input flags passed to 'workflow next' but step has no inputs defined - show
      warning that inputs are being ignored, don't fail
    created_at: 2026-01-22T21:24:30.172Z
    tags:
      - cli
      - workflow
      - dx
    added_by: "@claude"
  - _ulid: 01KFKTHPN26RDDEEF5PRJ3FYFQ
    text: Fix workflow show 0-indexed display - Progress should show 1-indexed (3/3 not 2/3), step
      numbers should be 1-indexed (1,2,3 not 0,1,2)
    created_at: 2026-01-22T21:42:41.570Z
    tags:
      - bug
      - workflow
      - cli
    added_by: "@claude"
  - _ulid: 01KFKTNR690N4KNMMK5GK9NSCJ
    text: Improve 'workflow show' human-readable output - use verbose vertical format like 'meta
      workflows --verbose' instead of cramped table. Show each step with [N] prefix, status
      indicator (✓/○/⊘), content, and indented notes/inputs below when present
    created_at: 2026-01-22T21:44:54.217Z
    tags:
      - workflow
      - cli
      - dx
    added_by: "@claude"
  - _ulid: 01KFKW1ZGTR4BZ3QB87184MTM3
    text: Add update/note capability to inbox items - allow 'inbox update @ref --content' or 'inbox note
      @ref' to modify/append to items without delete+re-add cycle
    created_at: 2026-01-22T22:09:03.514Z
    tags:
      - cli
      - inbox
      - dx
    added_by: "@claude"
  - _ulid: 01KFM8HDR0JSSEJMABYP3RT1VK
    text: "Trait applicability guidance in /spec skill - Add section reminding agents to check available
      traits (kspec trait list) before adding ACs. Prompt: 'Does this spec need common behaviors
      like JSON output, dry-run, confirmation?' Surfaced during yaml-merge-driver spec creation
      where user had to remind about traits."
    created_at: 2026-01-23T01:47:12.512Z
    tags:
      - reflection
      - spec
      - skill
    added_by: "@claude"
  - _ulid: 01KFM8HFQ6HCAWHBG56PT4FDXN
    text: CLI help syntax examples - Add concrete examples to variadic options like --depends-on showing
      'kspec task set @ref --depends-on @ref1 @ref2' instead of just '<refs...>'. Surfaced when
      trial/error was needed to find space-separated format.
    created_at: 2026-01-23T01:47:14.536Z
    tags:
      - reflection
      - cli
      - dx
    added_by: "@claude"
  - _ulid: 01KFMH54H89SJ51NPQW02S7P1Z
    text: Add @trait-multi-ref-batch to trait commands (item trait add/remove) - currently these
      commands don't support --refs for batch operations
    created_at: 2026-01-23T04:17:47.049Z
    tags:
      - reflection
      - cli
    added_by: "@claude"
  - _ulid: 01KFMH5A4GJJ43XX51VM1G9ZDS
    text: "AC text validation - warn or auto-escape when AC fields contain special YAML chars (< > :
      quotes) that cause parse errors during spec authoring"
    created_at: 2026-01-23T04:17:52.785Z
    tags:
      - reflection
      - validation
    added_by: "@claude"
  - _ulid: 01KFMP2WPMN0XYTSQ10CBBQY8J
    text: Auto-quote YAML AC fields containing braces/colons to prevent parse errors. When kspec item ac
      add receives given/when/then with { [ or :, automatically wrap in quotes before writing YAML.
    created_at: 2026-01-23T05:43:56.372Z
    tags:
      - reflection
      - cli
      - dx
    added_by: "@claude"
  - _ulid: 01KFMP3K6ZPG0SJ0Q1HDD8DNMY
    text: "CLI ULID helper: kspec util ulid [--count N]. Generate valid ULIDs for manual YAML editing.
      Useful when creating new spec items or features directly in YAML."
    created_at: 2026-01-23T05:44:19.423Z
    tags:
      - reflection
      - cli
      - dx
    added_by: "@claude"
  - _ulid: 01KFMP5R3B8Q3YSTE5FAX91TGH
    text: "Apply @trait-multi-ref-batch to task set --automation. Enable: kspec task set --refs @a @b @c
      --automation eligible. Currently must run one command per task."
    created_at: 2026-01-23T05:45:29.964Z
    tags:
      - reflection
      - cli
      - batch
    added_by: "@claude"
  - _ulid: 01KFMP6G9AAYR8015P6EHZNNSX
    text: Add kspec task list as alias for kspec tasks. CLI naming consistency - other commands use
      'kspec <noun> list' pattern.
    created_at: 2026-01-23T05:45:54.731Z
    tags:
      - reflection
      - cli
      - dx
    added_by: "@claude"
  - _ulid: 01KFNCZRVA7JJ21WRS9NVA8KM4
    text: Implement X-Request-Id header middleware for all API endpoints (@trait-api-endpoint ac-6).
      Should generate ULID if not provided, echo if present in request.
    created_at: 2026-01-23T12:24:11.370Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFND00TXHH8MZ2XP0FBZ44KA
    text: "Convert daemon static analysis tests to real E2E tests that start daemon and make HTTP
      requests. Current tests verify code structure exists but don't test runtime behavior. Affects:
      daemon-server.test.ts, daemon-api-tasks.test.ts, future endpoint tests."
    created_at: 2026-01-23T12:24:19.549Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFNVB075V3D914639C6CH483
    text: Recent notes should cover pending review notes and most recently closed task notes as well,
      probably separated out with some more organization so it is clear what was being worked on and
      if there is anything from prior work worth sharing forward (in case its a continuation of the
      same type of work)
    created_at: 2026-01-23T16:34:59.430Z
    tags: []
    added_by: Jacob Chapel
  - _ulid: 01KFNVME58GDWR7XGK7V1DC3P7
    text: Need to ensure the pr review merge workflow enforces rechecking at each step and not to just
      use prior checks before using the workflow as proof. Just saw an agent barrel through the
      workflow never checking CI status again because it already did and so assumed it was all good
      even though there were new comments and just merged.
    created_at: 2026-01-23T16:40:08.617Z
    tags: []
    added_by: Jacob Chapel
  - _ulid: 01KFP9A2761K3N9S2M2CG23BHE
    text: "Add --depends-on flag to 'kspec task add' - Set task dependencies at creation time instead of
      requiring follow-up 'task set' or manual YAML edit. Small scope: single flag addition.
      Surfaced when creating 10 E2E tasks that all depend on infrastructure setup task."
    created_at: 2026-01-23T20:39:08.774Z
    tags:
      - reflection
      - cli
      - tasks
    added_by: "@claude"
  - _ulid: 01KFP9A66QC28CY8R3JWNBKD3F
    text: "Test coverage report command: 'kspec coverage @spec-ref' - Scan codebase for '// AC: @spec
      ac-N' annotations and report which ACs have test coverage vs gaps. Helps verify all acceptance
      criteria are tested. Medium scope. Surfaced when manually cross-referencing 33 @web-dashboard
      ACs against test tasks."
    created_at: 2026-01-23T20:39:12.855Z
    tags:
      - reflection
      - cli
      - testing
    added_by: "@claude"
  - _ulid: 01KFP9A9PMZWJM61MAJM33BGK6
    text: First-party plan support with shadow branch storage - Store plan documents in kspec shadow
      branch (e.g., .kspec/plans/) and link them to derived tasks. Plans persist across sessions,
      provide implementation context without embedding in notes. Could integrate with Claude Code
      plan mode workflow. Medium scope. Surfaced when plan file at ~/.claude/plans/ wouldn't persist
      for future sessions.
    created_at: 2026-01-23T20:39:16.436Z
    tags:
      - reflection
      - planning
      - shadow
    added_by: "@claude"
  - _ulid: 01KFPDCY6FN46DHZ13E7FMK051
    text: "Add cross-platform CI matrix testing - run core functionality tests on Windows, macOS, and
      Linux. Would catch issues like Unix-specific commands (which, cp -r) before they reach PR
      review. Consider: matrix strategy in GitHub Actions, platform-specific test skips where
      needed, focus on CLI commands and daemon lifecycle."
    created_at: 2026-01-23T21:50:37.263Z
    tags:
      - ci
      - testing
      - dx
    added_by: "@claude"
  - _ulid: 01KFPH36C8DKZ23ZDV3VQNE2WZ
    text: Fix daemon TypeScript strict mode compatibility - add proper types to route handlers, fix
      Elysia generic issues, eliminate implicit any. Currently daemon source is copied instead of
      compiled because of these issues. Medium scope.
    created_at: 2026-01-23T22:55:12.264Z
    tags:
      - daemon
      - typescript
      - reflection
    added_by: "@claude"
