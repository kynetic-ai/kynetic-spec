inbox:
  - _ulid: 01KF16XGA6SNNRHFPX15N0HE6F
    text: Hook for SessionStart or post-compaction to inject relevant context and subtle instructions.
      Could auto-run 'kspec session start' or similar to give agent fresh context after memory is
      compacted.
    created_at: 2026-01-15T16:13:16.998Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KF1V53RYTWER59VR53W1CSTW
    text: "Spec review process: 3 parallel agents (internal fit, prior art comparison, external
      research) before finalizing major specs. Worked well for shadow branch spec design - should be
      formalized in meta-spec workflows."
    created_at: 2026-01-15T22:06:57.823Z
    tags:
      - workflow
      - meta
    added_by: "@claude"
  - _ulid: 01KF3PJWJS42Y0QZFKWMX3A4D9
    text: "CLI output parity - JSON and human-readable outputs can drift when adding features.
      Investigate patterns to keep them in sync by design: unified output formatter, schema-driven
      rendering, shared data structure that both modes consume. Current pattern: output(data,
      humanFormatter) - data goes to JSON, formatter handles human. But formatter can show
      derived/computed info that isn't in data."
    created_at: 2026-01-16T15:25:35.193Z
    tags:
      - cli
      - dx
      - design
    added_by: "@claude"
  - _ulid: 01KF4DS5K10SKW9A533DQR7TH0
    text: "Investigate ready task ordering beyond priority - creation order may not be ideal. Consider:
      recency of notes/activity, dependency depth, spec item priority inheritance, manual ordering
      field, tags for urgency"
    created_at: 2026-01-16T22:10:58.273Z
    tags:
      - design
      - tasks
      - dx
    added_by: "@claude"
  - _ulid: 01KF554T97ST9B3DMT4WMXACYQ
    text: >-
      Ralph Wiggum / Looper Mode - Create a kspec-integrated autonomous loop runner. Core idea: a
      script that runs Claude Code repeatedly with fresh context, using a templated prompt that
      instructs it to:


      1. Run 'kspec session start' to see ready tasks

      2. Pick a well-defined task (high priority, clear spec, no blockers)

      3. Work on it until completion or stuck

      4. Commit and complete the task

      5. Exit cleanly (the outer loop restarts with fresh context)


      Key features from research:

      - Simple core: while :; do cat PROMPT.md | claude ; done

      - Context persists via filesystem/git, not session memory

      - Dual-condition exit: require both completion indicator AND explicit exit signal

      - Circuit breaker: stop after N loops with no progress or repeated errors

      - Rate limiting for API calls


      Kspec-specific additions:

      - Task selection heuristics (prioritize: clear AC, no blockers, isolated scope)

      - Progress tracking via task notes before each exit

      - Session checkpoint before exit to ensure clean state

      - Maybe: task budget (only attempt tasks under estimated N turns)


      The beauty is each iteration starts fresh but inherits cumulative work. Bad iterations don't
      compound context - they just waste one run.
    created_at: 2026-01-17T04:59:17.160Z
    tags:
      - automation
      - workflow
      - agents
    added_by: "@claude"
  - _ulid: 01KF6541Q2CXEXRYFFHAGD53H4
    text: "Ralph TUI mode: Optional terminal UI for ralph that provides real-time visualization of agent
      progress, event stream, session status. Would build on streaming/ACP foundation. Lower
      priority than core auditability work."
    created_at: 2026-01-17T14:18:06.435Z
    tags:
      - ralph
      - tui
      - optional
    added_by: "@claude"
  - _ulid: 01KF8TQ5X9Q0Y6DEGWQ9YPECHN
    text: "Transaction/batch mechanics for kspec operations - ability to set a mark point where changes
      don't auto-commit until a final 'commit' call. Could help with bulk operations, rollback on
      errors, and atomic multi-item changes. Challenges: managing state across commands, cleanup on
      abandoned transactions, shadow branch implications. Maybe simpler approach: explicit 'kspec
      bulk' command that takes a script/list of operations and executes them atomically."
    created_at: 2026-01-18T15:14:02.282Z
    tags:
      - idea
      - cli
      - architecture
    added_by: "@claude"
  - _ulid: 01KFA1Q5AQJN28QE0S7EGNXPT8
    text: "Phase 1: Implement structured error codes and recovery hints for CLI - define CliError type,
      map existing error() calls to structured codes, add recovery suggestions for common error
      scenarios"
    created_at: 2026-01-19T02:35:36.152Z
    tags:
      - agent-first
      - cli
      - phase-1
    added_by: "@claude"
  - _ulid: 01KFA1Q9JA5H1FSM05NBA0BFCD
    text: "Phase 1: Implement unified output envelope for JSON mode - wrap all JSON responses in
      consistent structure with success/data/metadata/error fields"
    created_at: 2026-01-19T02:35:40.491Z
    tags:
      - agent-first
      - cli
      - phase-1
    added_by: "@claude"
  - _ulid: 01KFA1QBTZYQ8C1RJA4PEXRX2M
    text: "Phase 2: Add dry-run support to mutating commands - implement --dry-run flag for task
      add/set, item add/set/delete, derive, inbox promote. Show preview of changes without
      executing"
    created_at: 2026-01-19T02:35:42.815Z
    tags:
      - agent-first
      - cli
      - phase-2
    added_by: "@claude"
  - _ulid: 01KFA1QEC3GS0H6M3MKCFQ01DS
    text: "Phase 2: Add schema introspection commands - kspec help --json-schema, kspec help
      --exit-codes, kspec help commands --json for programmatic CLI discovery"
    created_at: 2026-01-19T02:35:45.411Z
    tags:
      - agent-first
      - cli
      - phase-2
    added_by: "@claude"
  - _ulid: 01KFBJM1XW2DSC0V47Y86EZYHB
    text: "Review RALPH_LOOP_INSTRUCTIONS.md - consolidate into skills or delete. Unique content: PR
      review workflow for autonomous loops, 'every iteration ends with PR' rule, reflect guidance
      for loops. Consider codifying loop-specific reflect behavior into /reflect skill."
    created_at: 2026-01-19T16:50:14.589Z
    tags:
      - docs
      - ralph
    added_by: "@claude"
  - _ulid: 01KFBKA7PCR1VKHEPJBTY843Q9
    text: Review KYNETIC_SPEC_DESIGN.md vs actual .kspec/ spec - identify any gaps/features in design
      doc not yet in spec before clearing out. Bootstrap doc is now obsolete.
    created_at: 2026-01-19T17:02:21.389Z
    tags:
      - docs
      - spec
    added_by: "@claude"
  - _ulid: 01KFC3SV1V0NBY01W9X12K0G08
    text: 'Batch command execution via JSON - Generic kspec batch command that accepts JSON array of CLI
      commands with args. Example: [{"cmd": "item ac add", "ref": "@spec-1", "given": "...", ...}].
      Separates concerns: skills/scripts generate the JSON (smart translation), CLI executes it
      (dumb executor). Supports --dry-run for preview, --file or stdin input. Replaces need for
      command-specific bulk variants. Pairs with skills that translate intent (plan sections,
      templates) into batch JSON.'
    created_at: 2026-01-19T21:50:29.948Z
    tags:
      - cli
      - dx
      - bulk
    added_by: "@claude"
  - _ulid: 01KFDQCG96CYSJ5HEK1Q87QMFS
    text: Add feature to spawn worktree for an agent to work in
    created_at: 2026-01-20T12:51:58.887Z
    tags: []
    added_by: Jacob Chapel
  - _ulid: 01KFE2X9RP7HS3SPGH4MGYJCDF
    text: "Ralph loop: Add signal/mechanism for agents to explicitly end the loop when target work is
      complete (e.g., special exit command or completion marker)"
    created_at: 2026-01-20T16:13:23.607Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFE2XDRMFSEAM7DHQCEKG2GT
    text: "Ralph loop: Treat pending_review tasks as highest priority - agents should validate and
      complete these before starting new work"
    created_at: 2026-01-20T16:13:27.700Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFE2XFQKG1SV7KQ4RSBD6DYP
    text: "Ralph loop: Add --tasks flag to specify explicit task scope (e.g., --tasks @ref1,@ref2) to
      prevent scope creep beyond target work"
    created_at: 2026-01-20T16:13:29.715Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFE2XHT2AJN680ST7ZXK4TAT
    text: "Ralph loop: Add progress checkpoint output at each iteration showing
      completed/in-progress/remaining counts"
    created_at: 2026-01-20T16:13:31.843Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFEACSA41B4YJGKBCP6V8M39
    text: >-
      Create /triage-automation skill for systematic task automation eligibility assessment


      ## Why This Matters


      The automation eligibility system (just implemented) provides the *infrastructure* - fields,
      CLI commands, validation. But actually *using* it requires humans to make triage decisions for
      each task. Without a systematic workflow, this becomes:

      - Inconsistent (different criteria applied each time)

      - Slow (have to remember what to check)

      - Undocumented (decisions aren't explained)


      A skill codifies the decision-making process and makes triage efficient.


      ## What the Skill Should Do


      1. **Surface unassessed tasks**: Show tasks where automation is undefined, prioritized by:
         - Priority (P1-P2 first)
         - Has spec_ref (more likely to be eligible)
         - Ready status (actionable now)

      2. **Present context for each task**:
         - Task title, description, spec_ref
         - Linked spec's acceptance criteria
         - Dependencies and blockers
         - Any existing notes

      3. **Guide the eligibility decision** with criteria checklist:
         **Eligible if ALL true:**
         - Has spec_ref with clear acceptance criteria
         - Scope is well-defined and bounded
         - ACs are objectively verifiable (not subjective)
         - No security-critical changes
         - No irreversible operations without confirmation
         - Implementation path is straightforward
         **Manual_only if ANY true:**
         - Requires creative/architectural decisions
         - Involves user-facing UX judgment
         - Touches authentication/authorization
         - Affects billing/payments
         - Requires human approval by design
         - Vague or exploratory scope
         **Needs_review when:**
         - Ralph attempted but got stuck
         - Partial progress, unclear how to continue
         - Encountered unexpected complexity

      4. **Streamline the status update**:
         - Single command to set status with auto-generated reason
         - Add note explaining the decision rationale
         - Move to next unassessed task

      ## Example Workflow


      ```

      > kspec /triage-automation


      === Unassessed Tasks (12) ===


      --- Next: @add-export-command (P2) ---

      Title: Add CSV export for task list

      Spec: @csv-export

      ACs: 4 (all objective, testable)

      Dependencies: none

      Notes: none


      Eligibility Checklist:

      ✓ Has spec_ref with ACs

      ✓ Scope is bounded (single command)

      ✓ ACs are verifiable

      ✓ No security concerns

      ✓ No irreversible ops

      ✓ Clear implementation path


      Recommendation: ELIGIBLE


      [e]ligible / [m]anual_only / [s]kip / [q]uit > e


      OK Set @add-export-command automation: eligible
         Reason: Clear spec with 4 testable ACs, bounded scope, no security concerns

      --- Next: @improve-error-messages (P3) ---

      ...

      ```


      ## Integration Points


      - Uses `kspec tasks ready --unassessed` to find candidates

      - Uses `kspec task get` and `kspec item get` for context

      - Uses `kspec task set --automation` to apply decision

      - Could batch multiple decisions in one session


      ## Success Criteria


      - Reduces time to triage a task from ~2min to ~20sec

      - Documents reasoning for every eligibility decision

      - Creates consistent application of eligibility criteria

      - Enables ralph to self-serve on eligible task discovery
    created_at: 2026-01-20T18:24:11.077Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFEYXF9Y42AYHFPQC43PR13F
    text: "Spec-level depends_on field with derive integration - Add --depends-on flag to kspec item set
      for spec items. When deriving tasks, automatically create task dependencies based on spec
      dependencies. Example: if @spec-A depends_on @spec-B, then kspec derive @spec-A creates task-A
      depending on task-B. Removes need to manually set task dependencies after derive."
    created_at: 2026-01-21T00:22:49.407Z
    tags:
      - cli
      - derive
      - dx
    added_by: "@claude"
  - _ulid: 01KFEZDXXX1XR1M2EAG3BK2GZA
    text: "Ephemeral workflow runs - Add support for workflows that don't persist run state. Use cases:
      simple instruction flows, quick checklists, trivial step sequences. Options: (1) --ephemeral
      flag on 'workflow start', (2) workflow.ephemeral field in definition, (3) both with override.
      Ephemeral runs: no file storage, no shadow commits, not shown in 'workflow runs', state only
      in session context or just sequential display. Reduces noise for simple flows."
    created_at: 2026-01-21T00:31:48.669Z
    tags:
      - workflow
      - dx
    added_by: "@claude"
  - _ulid: 01KFGRV6AK641DTPJ243ZAZXD7
    text: Generic --clear-<field> pattern for array fields - Instead of adding --clear-deps,
      --clear-tags, --clear-blocked-by separately, consider a general pattern like --clear <field>
      or --<field> [] syntax
    created_at: 2026-01-21T17:15:12.084Z
    tags:
      - reflection
      - cli
      - dx
    added_by: "@claude"
  - _ulid: 01KFGRVB35DPCST95STSM8GR72
    text: Umbrella/parent tasks should depend on children, not vice versa - Parent represents 'validate
      complete feature' and becomes ready when all implementation children are done. Current pattern
      had children depending on parent which blocks them when parent is manual_only
    created_at: 2026-01-21T17:15:16.966Z
    tags:
      - reflection
      - workflow
      - modeling
    added_by: "@claude"
  - _ulid: 01KFGVVJQKV7XDYKERSZ5ZGVA7
    text: "Project config file (kspec.config.yaml or .kspecrc) in project root - Configure: shadow
      remote URL (separate repo for specs), feature toggles (disable meta/workflows/traits), default
      values (author, priority), validation strictness, agent-visible command subset. Enables
      tailoring kspec to project needs and hiding complexity from automation."
    created_at: 2026-01-21T18:07:50.515Z
    tags:
      - feature
      - config
      - dx
    added_by: "@claude"
  - _ulid: 01KFGVVNBKEMGF4AWWX8BQXHN1
    text: "Shadow branch on separate remote - Since kspec-meta is an orphan branch with no shared
      history, allow it to point to a different remote repo entirely. Enables: access control
      separation, multi-repo projects sharing specs, dedicated spec storage services. Would be
      configured via project config file."
    created_at: 2026-01-21T18:07:53.203Z
    tags:
      - feature
      - shadow
      - multi-repo
    added_by: "@claude"
  - _ulid: 01KFH3HM5T869SHSWDG8V0P44C
    text: "Track auto-generated artifacts (notes, etc.) with metadata flag. Could add auto_generated:
      true to notes created by CLI commands vs agent-authored content. Would enable filtering
      mechanical notes from substantive ones in UIs/queries. Low priority - current approach (use
      authoring agent) works, this is a refinement if filtering becomes important."
    created_at: 2026-01-21T20:22:12.922Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFH6XF1C0AD2QF7WAMEJ9M57
    text: "Trait: Verbose Output Mode (@trait-verbose-output) - Cross-cutting behavior for commands that
      display lists. Defines --verbose/-v flag to show complete output without truncation. AC: (1)
      truncated lists show all items with --verbose, (2) summaries expand to detailed info. Applies
      to: validate (orphaned specs, mismatches), tasks list, inbox list, item list. Ensures
      consistent flag naming and behavior across CLI."
    created_at: 2026-01-21T21:21:06.605Z
    tags:
      - trait
      - cli
      - dx
    added_by: "@claude"
  - _ulid: 01KFH76CQV9J2NQKQE8QRYVQC3
    text: "Cross-feature requirement pattern: How to express that core features (search, validate,
      export) must support all entity types. When new entity type added, should automatically imply
      tasks for core features. Options: (1) applies_to field on feature specs, (2) trait on entity
      types like @trait-searchable, (3) validation warning for missing coverage, (4) parent spec
      that entity types must satisfy. Surfaced when realizing search doesn't cover inbox."
    created_at: 2026-01-21T21:25:59.163Z
    tags:
      - design
      - spec-model
      - meta
    added_by: "@claude"
  - _ulid: 01KFHJNR74AMDX2D9389906JPT
    text: "AC coverage analysis tooling - soft check that identifies gaps between code AC annotations
      and test coverage. Not a hard lint, but instructive to surface clear gaps. Could warn when //
      AC: @spec ac-N appears in implementation but no test references that AC. Helps during review,
      not blocking."
    created_at: 2026-01-22T00:46:36.772Z
    tags:
      - dx
      - tooling
      - reflection
    added_by: "@claude"
  - _ulid: 01KFHJNZKSXJ2RNAT06VEAYR3R
    text: "Reverse spec lookup - kspec which <file> or kspec which <file:line> to find specs/ACs that
      reference or are implemented by a given code path. Useful for bug fixes to quickly discover
      what specs need updating. Could scan for // AC: annotations and spec_ref links. Instructive,
      helps find already-instrumented code."
    created_at: 2026-01-22T00:46:44.345Z
    tags:
      - dx
      - tooling
      - reflection
    added_by: "@claude"
  - _ulid: 01KFHZR4K3JJT4C742GSVB1KG6
    text: "Shadow sync issues need stronger agent guidance and CLI warnings. Currently errors are silent
      unless KSPEC_DEBUG=1. Should: (1) Make warnings more visible in CLI output, (2) Strengthen
      AGENTS.md troubleshooting guidance, (3) Consider auto-detection of common issues with
      suggested fixes."
    created_at: 2026-01-22T04:35:06.468Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFHZR6CHCHEHSN9Q7DRJGCTC
    text: "Programmatic YAML merge strategy for shadow conflicts. Current approach uses git text merge
      (--ff-only then --rebase) which can fail on YAML. Proposal: (1) Parse both versions in JS, (2)
      Merge semantically (items arrays, task state, etc), (3) Register kspec as custom git merge
      driver. Need to spec this feature and configure git to use it."
    created_at: 2026-01-22T04:35:08.305Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFKMWB9ASPMYGVCDMANYNBJA
    text: "[bug] 'kspec help workflow' shows unrelated 'Typical Workflow' content because
      helpContent['workflow'] key collides with workflow CLI command name. The task workflow guide
      should be renamed to 'task-workflow' or 'getting-started' in src/cli/help/content.ts"
    created_at: 2026-01-22T20:03:38.922Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFKSEDVD0JZC908CYXA2GWRD
    text: Add --steps flag to 'meta add workflow' command - allow defining workflow steps at creation
      time using JSON array, avoiding manual YAML edits
    created_at: 2026-01-22T21:23:25.677Z
    tags:
      - cli
      - meta
      - dx
    added_by: "@claude"
  - _ulid: 01KFKSF667VYMH5QJN9GE5X2J3
    text: Make 'workflow show' infer active run like 'workflow next' - when only one active run exists,
      allow omitting run-ref for consistency
    created_at: 2026-01-22T21:23:50.599Z
    tags:
      - cli
      - workflow
      - dx
    added_by: "@claude"
  - _ulid: 01KFKSGCTW2R3G9QYK9NH23FVY
    text: Warn when --input flags passed to 'workflow next' but step has no inputs defined - show
      warning that inputs are being ignored, don't fail
    created_at: 2026-01-22T21:24:30.172Z
    tags:
      - cli
      - workflow
      - dx
    added_by: "@claude"
  - _ulid: 01KFKTHPN26RDDEEF5PRJ3FYFQ
    text: Fix workflow show 0-indexed display - Progress should show 1-indexed (3/3 not 2/3), step
      numbers should be 1-indexed (1,2,3 not 0,1,2)
    created_at: 2026-01-22T21:42:41.570Z
    tags:
      - bug
      - workflow
      - cli
    added_by: "@claude"
  - _ulid: 01KFKTNR690N4KNMMK5GK9NSCJ
    text: Improve 'workflow show' human-readable output - use verbose vertical format like 'meta
      workflows --verbose' instead of cramped table. Show each step with [N] prefix, status
      indicator (✓/○/⊘), content, and indented notes/inputs below when present
    created_at: 2026-01-22T21:44:54.217Z
    tags:
      - workflow
      - cli
      - dx
    added_by: "@claude"
  - _ulid: 01KFKVC06CWRNN4Z6EG25QG83J
    text: "Create PR Review & Merge workflow - 8-step quality gate: create PR, wait for CI, read review
      comments, fix issues, re-run CI, check user @claude comments, complete pending actions, merge
      when green. Needs matching skill with context."
    created_at: 2026-01-22T21:57:03.308Z
    tags:
      - workflow
      - pr
      - quality
    added_by: "@claude"
