inbox:
  - _ulid: 01KF16XGA6SNNRHFPX15N0HE6F
    text: Hook for SessionStart or post-compaction to inject relevant context and subtle instructions.
      Could auto-run 'kspec session start' or similar to give agent fresh context after memory is
      compacted.
    created_at: 2026-01-15T16:13:16.998Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KF1V53RYTWER59VR53W1CSTW
    text: "Spec review process: 3 parallel agents (internal fit, prior art comparison, external
      research) before finalizing major specs. Worked well for shadow branch spec design - should be
      formalized in meta-spec workflows."
    created_at: 2026-01-15T22:06:57.823Z
    tags:
      - workflow
      - meta
    added_by: "@claude"
  - _ulid: 01KF3PJWJS42Y0QZFKWMX3A4D9
    text: "CLI output parity - JSON and human-readable outputs can drift when adding features.
      Investigate patterns to keep them in sync by design: unified output formatter, schema-driven
      rendering, shared data structure that both modes consume. Current pattern: output(data,
      humanFormatter) - data goes to JSON, formatter handles human. But formatter can show
      derived/computed info that isn't in data."
    created_at: 2026-01-16T15:25:35.193Z
    tags:
      - cli
      - dx
      - design
    added_by: "@claude"
  - _ulid: 01KF4DS5K10SKW9A533DQR7TH0
    text: "Investigate ready task ordering beyond priority - creation order may not be ideal. Consider:
      recency of notes/activity, dependency depth, spec item priority inheritance, manual ordering
      field, tags for urgency"
    created_at: 2026-01-16T22:10:58.273Z
    tags:
      - design
      - tasks
      - dx
    added_by: "@claude"
  - _ulid: 01KF554T97ST9B3DMT4WMXACYQ
    text: >-
      Ralph Wiggum / Looper Mode - Create a kspec-integrated autonomous loop runner. Core idea: a
      script that runs Claude Code repeatedly with fresh context, using a templated prompt that
      instructs it to:


      1. Run 'kspec session start' to see ready tasks

      2. Pick a well-defined task (high priority, clear spec, no blockers)

      3. Work on it until completion or stuck

      4. Commit and complete the task

      5. Exit cleanly (the outer loop restarts with fresh context)


      Key features from research:

      - Simple core: while :; do cat PROMPT.md | claude ; done

      - Context persists via filesystem/git, not session memory

      - Dual-condition exit: require both completion indicator AND explicit exit signal

      - Circuit breaker: stop after N loops with no progress or repeated errors

      - Rate limiting for API calls


      Kspec-specific additions:

      - Task selection heuristics (prioritize: clear AC, no blockers, isolated scope)

      - Progress tracking via task notes before each exit

      - Session checkpoint before exit to ensure clean state

      - Maybe: task budget (only attempt tasks under estimated N turns)


      The beauty is each iteration starts fresh but inherits cumulative work. Bad iterations don't
      compound context - they just waste one run.
    created_at: 2026-01-17T04:59:17.160Z
    tags:
      - automation
      - workflow
      - agents
    added_by: "@claude"
  - _ulid: 01KF6541Q2CXEXRYFFHAGD53H4
    text: "Ralph TUI mode: Optional terminal UI for ralph that provides real-time visualization of agent
      progress, event stream, session status. Would build on streaming/ACP foundation. Lower
      priority than core auditability work."
    created_at: 2026-01-17T14:18:06.435Z
    tags:
      - ralph
      - tui
      - optional
    added_by: "@claude"
  - _ulid: 01KF6H34MJMWQ8R54AZZ8FKCCH
    text: "ACP type safety audit: Review and strengthen typing across ACP client implementation. Current
      state has respondPermission() typed but other handlers use 'unknown'. Consider: (1) Add typed
      response methods for file/read, file/write, terminal/run (2) Type the request params using SDK
      types (3) Evaluate if we're correctly implementing the full ACP protocol - check SDK docs for
      any missing methods or incorrect assumptions (4) Consider whether respond(unknown) should be
      deprecated in favor of typed methods only. The { granted: true } bug showed the value of
      compile-time enforcement."
    created_at: 2026-01-17T17:47:19.570Z
    tags:
      - acp
      - types
      - tech-debt
    added_by: "@claude"
  - _ulid: 01KF6KSAC2Z2PT2Q96WDJEH4ZA
    text: "ACP mock protocol fidelity: Update tests/mocks/acp-mock.js to require permission requests
      like the real agent does. Currently mock auto-succeeds tool calls without permission flow.
      Would have caught the { granted: true } format bug in tests rather than live testing."
    created_at: 2026-01-17T18:34:23.491Z
    tags:
      - testing
      - acp
      - mock
    added_by: "@claude"
  - _ulid: 01KF8TQ5X9Q0Y6DEGWQ9YPECHN
    text: "Transaction/batch mechanics for kspec operations - ability to set a mark point where changes
      don't auto-commit until a final 'commit' call. Could help with bulk operations, rollback on
      errors, and atomic multi-item changes. Challenges: managing state across commands, cleanup on
      abandoned transactions, shadow branch implications. Maybe simpler approach: explicit 'kspec
      bulk' command that takes a script/list of operations and executes them atomically."
    created_at: 2026-01-18T15:14:02.282Z
    tags:
      - idea
      - cli
      - architecture
    added_by: "@claude"
  - _ulid: 01KF9W2HF2W635NJA8XPY81001
    text: Figure out and document a versioning strategy for the package
    created_at: 2026-01-19T00:56:57.571Z
    tags:
      - docs
      - release
    added_by: "@claude"
  - _ulid: 01KFA1Q5AQJN28QE0S7EGNXPT8
    text: "Phase 1: Implement structured error codes and recovery hints for CLI - define CliError type,
      map existing error() calls to structured codes, add recovery suggestions for common error
      scenarios"
    created_at: 2026-01-19T02:35:36.152Z
    tags:
      - agent-first
      - cli
      - phase-1
    added_by: "@claude"
  - _ulid: 01KFA1Q9JA5H1FSM05NBA0BFCD
    text: "Phase 1: Implement unified output envelope for JSON mode - wrap all JSON responses in
      consistent structure with success/data/metadata/error fields"
    created_at: 2026-01-19T02:35:40.491Z
    tags:
      - agent-first
      - cli
      - phase-1
    added_by: "@claude"
  - _ulid: 01KFA1QBTZYQ8C1RJA4PEXRX2M
    text: "Phase 2: Add dry-run support to mutating commands - implement --dry-run flag for task
      add/set, item add/set/delete, derive, inbox promote. Show preview of changes without
      executing"
    created_at: 2026-01-19T02:35:42.815Z
    tags:
      - agent-first
      - cli
      - phase-2
    added_by: "@claude"
  - _ulid: 01KFA1QEC3GS0H6M3MKCFQ01DS
    text: "Phase 2: Add schema introspection commands - kspec help --json-schema, kspec help
      --exit-codes, kspec help commands --json for programmatic CLI discovery"
    created_at: 2026-01-19T02:35:45.411Z
    tags:
      - agent-first
      - cli
      - phase-2
    added_by: "@claude"
  - _ulid: 01KFAG8A1Q8VTJ3TKKQCQ4T7EW
    text: Add automated tests for git hook installation and authorization - test installShadowHook
      function, hook blocking unauthorized commits, hook allowing commits with KSPEC_SHADOW_COMMIT=1
      env var
    created_at: 2026-01-19T06:49:38.104Z
    tags:
      - testing
      - reflection
    added_by: "@claude"
  - _ulid: 01KFBJB72B55D3KVA8PAX3TX2P
    text: Set up biome for linting (replace eslint script) - reference ../kynetic project for config
    created_at: 2026-01-19T16:45:24.940Z
    tags:
      - cli
      - dx
      - tooling
    added_by: "@claude"
  - _ulid: 01KFBJM1XW2DSC0V47Y86EZYHB
    text: "Review RALPH_LOOP_INSTRUCTIONS.md - consolidate into skills or delete. Unique content: PR
      review workflow for autonomous loops, 'every iteration ends with PR' rule, reflect guidance
      for loops. Consider codifying loop-specific reflect behavior into /reflect skill."
    created_at: 2026-01-19T16:50:14.589Z
    tags:
      - docs
      - ralph
    added_by: "@claude"
  - _ulid: 01KFBKA7PCR1VKHEPJBTY843Q9
    text: Review KYNETIC_SPEC_DESIGN.md vs actual .kspec/ spec - identify any gaps/features in design
      doc not yet in spec before clearing out. Bootstrap doc is now obsolete.
    created_at: 2026-01-19T17:02:21.389Z
    tags:
      - docs
      - spec
    added_by: "@claude"
  - _ulid: 01KFC3AFVYV41RPX15EHW10MHC
    text: "Guided workflow system - Skills become entry points to multi-step workflows. Each step has:
      entry criteria (prerequisites), actions, exit criteria (completion check), valid next steps.
      Agent progresses through steps with explicit state tracking. Example: spec-plan workflow would
      be [Requirements Gathering] → [Exploration] → [Design] → [Review] → [Spec Creation] → [AC
      Addition] → [Derive Tasks] → [Task Notes]. Prevents skipping steps, ensures proper sequencing.
      Could extend existing meta-spec workflow concept or be new pattern."
    created_at: 2026-01-19T21:42:06.974Z
    tags:
      - workflow
      - meta
      - skills
    added_by: "@claude"
  - _ulid: 01KFC3SV1V0NBY01W9X12K0G08
    text: 'Batch command execution via JSON - Generic kspec batch command that accepts JSON array of CLI
      commands with args. Example: [{"cmd": "item ac add", "ref": "@spec-1", "given": "...", ...}].
      Separates concerns: skills/scripts generate the JSON (smart translation), CLI executes it
      (dumb executor). Supports --dry-run for preview, --file or stdin input. Replaces need for
      command-specific bulk variants. Pairs with skills that translate intent (plan sections,
      templates) into batch JSON.'
    created_at: 2026-01-19T21:50:29.948Z
    tags:
      - cli
      - dx
      - bulk
    added_by: "@claude"
  - _ulid: 01KFCZ3ZXSNS99MDZGMJZSAHC6
    text: Investigate trait-cli.test.ts failures - 12 tests fail in vitest despite manual verification
      working. Implementation is correct, issue is test infrastructure. All tests involve trait
      listing/retrieval after creation. Manual replication works perfectly.
    created_at: 2026-01-20T05:47:54.169Z
    tags:
      - testing
    added_by: "@claude"
  - _ulid: 01KFDQCG96CYSJ5HEK1Q87QMFS
    text: Add feature to spawn worktree for an agent to work in
    created_at: 2026-01-20T12:51:58.887Z
    tags: []
    added_by: Jacob Chapel
  - _ulid: 01KFE2X9RP7HS3SPGH4MGYJCDF
    text: "Ralph loop: Add signal/mechanism for agents to explicitly end the loop when target work is
      complete (e.g., special exit command or completion marker)"
    created_at: 2026-01-20T16:13:23.607Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFE2XBV8SSJFGQRHBSAP0D4G
    text: "Ralph loop: Enforce submit before complete - task complete should error if task is
      in_progress (not pending_review) with helpful message suggesting 'kspec task submit' first"
    created_at: 2026-01-20T16:13:25.736Z
    tags: []
    added_by: "@claude"
  - _ulid: 01KFE2XDRMFSEAM7DHQCEKG2GT
    text: "Ralph loop: Treat pending_review tasks as highest priority - agents should validate and
      complete these before starting new work"
    created_at: 2026-01-20T16:13:27.700Z
    tags: []
    added_by: "@claude"
