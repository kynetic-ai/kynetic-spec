- _ulid: 01KEZFXCM3WEMMRGFDZSJSRARJ
  slugs:
    - task-cli-polish
  title: CLI output refinement and polish
  type: task
  spec_ref: null
  status: pending
  blocked_by: []
  depends_on: []
  context: []
  priority: 3
  tags:
    - cli
    - ux
  vcs_refs: []
  created_at: '2026-01-15T00:12:01.539Z'
  notes:
    - _ulid: 01KEZFXP1JPK4VBWDXTK2Q00AP
      created_at: '2026-01-15T00:12:11.187Z'
      content: |-
        Placeholder for CLI refinement work. Known items:

        - Color consistency pass (labels vs values, status colors)
        - Consider adding spec get command for viewing spec details directly
        - Review output density/formatting across commands
        - Potential: depends_on/relates_to expansion in spec view
      supersedes: null
  todos: []
- _ulid: 01KEZG58FJDPVYND9ZWX264WF2
  slugs:
    - task-alignment-system
  title: Design spec-implementation alignment system
  type: spike
  spec_ref: null
  status: pending
  blocked_by: []
  depends_on: []
  context: []
  priority: 2
  tags:
    - core
    - process
  vcs_refs: []
  created_at: '2026-01-15T00:16:19.442Z'
  notes:
    - _ulid: 01KEZG5N9BTACBWVPNVYDGQ7BC
      created_at: '2026-01-15T00:16:32.556Z'
      content: >-
        Problem: Spec, tasks, and implementation drift apart over time.


        Examples of drift:

        - Task @task-reference-resolution spec says nothing about dynamic ULID shortening, but that
        became a key implementation detail

        - User requests during implementation add features not in original spec

        - Implementation discoveries change the approach


        Goals:

        1. Keep specs as accurate source of truth

        2. Make drift visible and actionable

        3. Guide agents to update specs when deviating

        4. Enable reconciliation after the fact


        Potential mechanisms:


        PROACTIVE (during work):

        - Task start: show spec, prompt for planned deviations

        - Task complete: verify against acceptance criteria, prompt for spec updates

        - Agent instructions mandating spec updates when deviating


        REACTIVE (backprop):

        - kspec reconcile: compare task notes to spec, flag drift

        - Generate spec update suggestions from implementation notes

        - Mark specs 'needs-review' when notes mention unlisted changes


        STRUCTURAL:

        - Acceptance criteria as verifiable checkboxes

        - 'implementation_notes' field on spec items

        - Spec versioning when updated post-implementation

        - Deviation tracking on tasks


        Deliverables:

        1. Add spec items to spec/modules/ defining alignment features

        2. Create implementation tasks from the spec

        3. Update AGENTS.md with alignment guidance
      supersedes: null
  todos: []
- _ulid: 01KEZH1HE2TKG8Z79XW7G0Y016
  slugs:
    - task-local-cli-setup
  title: Set up local CLI development workflow
  type: task
  spec_ref: null
  status: completed
  blocked_by: []
  depends_on: []
  context: []
  priority: 2
  tags:
    - dx
    - cli
  vcs_refs: []
  created_at: '2026-01-15T00:31:46.114Z'
  started_at: '2026-01-15T00:32:00.757Z'
  notes:
    - _ulid: 01KEZH1T305WYZZE596KNCQZK3
      created_at: '2026-01-15T00:31:54.976Z'
      content: |-
        Goal: Enable kspec and kspec-dev commands for local usage.

        Plan:
        1. Verify/fix build process (npm run build)
        2. Test global install (npm install -g .)
        3. Document shell alias for kspec-dev
        4. Add dev script to package.json for portability

        Setup:
        - kspec: stable built version via global install
        - kspec-dev: alias to tsx src/cli/index.ts (live source)
      supersedes: null
    - _ulid: 01KEZH3MA5QPXCA6A6535W51Q5
      created_at: '2026-01-15T00:32:54.598Z'
      content: |-
        Completed setup:

        1. Fixed TypeScript build error (cast through unknown)
        2. Build works: npm run build
        3. Global install works: npm install -g .
        4. kspec command available globally

        Usage:
        - Stable: kspec tasks ready
        - Dev: npm run dev -- tasks ready

        Optional shell alias for convenience (add to ~/.bashrc or ~/.zshrc):
          alias kspec-dev='npx tsx /home/chapel/Projects/kynetic-spec/src/cli/index.ts'

        To update stable version:
          npm run build && npm install -g .
      supersedes: null
  todos: []
  completed_at: '2026-01-15T00:33:00.493Z'
  closed_reason: Build fixed, global install working, documented usage
